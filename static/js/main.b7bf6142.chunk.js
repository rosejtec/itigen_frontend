(this.webpackJsonpitigen_frontend=this.webpackJsonpitigen_frontend||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/circle-cropped.a16d1daf.png"},139:function(e,t,a){e.exports=a(213)},144:function(e,t,a){},212:function(e,t,a){e.exports=a.p+"static/media/Midnight.80e5b565.jpg"},213:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(15),s=a.n(o),r=(a(144),a(29)),i=a(30),c=a(32),d=a(31),m=a(90),u=a(17),p=a(38),g=a(249),h=a(253),f=a(123),b=a(254),v=a(5),E=a(273),y=a(111),O=a.n(y),S=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{position:"static",color:"inherit",elevation:3,className:e.appBar},l.a.createElement(h.a,{className:e.toolbar},l.a.createElement("div",{className:e.img},l.a.createElement(E.a,{alt:"Remy Sharp",src:O.a})),l.a.createElement(f.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle},"itigen"),l.a.createElement(b.a,{variant:"button",color:"textPrimary",href:"process.env.PUBLIC_URL + /landing",className:e.link},"Home"),l.a.createElement(b.a,{variant:"button",color:"textPrimary",href:"process.env.PUBLIC_URL + /generator",className:e.link},"Generator"),l.a.createElement(b.a,{variant:"button",color:"textPrimary",href:"process.env.PUBLIC_URL + /itinerary",className:e.link},"Itinerary"))))}}]),a}(n.Component),k=Object(v.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},img:{display:"flex","& > *":{margin:e.spacing(1)}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider),flexGrow:1,backgroundColor:"#cccccc"},toolbar:{flexWrap:"wrap",flexGrow:1},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(p.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}))(Object(u.e)(S)),w=a(10),_=a.n(w),x=a(34),j=a(22),C=a(12),P=a(19),I=a.n(P),T=a(256),N=a(257),D=a(260),L=a(262),B=a(121),A=a(274),F=a(255),R=a(55),U=a.n(R),W=a(259),G=a(258),M=a(261),z=a(272),H=a(115),V=a(77),q=a(82),K=window.google=window.google?window.google:{},Z=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({address:e})},n.handleSelect=function(){var e=Object(j.a)(_.a.mark((function e(t){var a,l,o,s,r,i,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.geocodeByAddress)(t);case 2:return a=e.sent,e.next=5,Object(P.getLatLng)(a[0]);case 5:return l=e.sent,n.state.coordsPair.push(l),e.next=9,Object(P.geocodeByAddress)(t);case 9:return e.sent,console.log(n.state.coordsPair),o=n.state.coordsPair,s=n.state.store_result,Object(x.a)(s),r=new K.maps.Map(document.createElement("div")),n.googlePlaces=new K.maps.places.PlacesService(r),i={location:o[0],radius:"5000",type:["restaurant","point_of_interest"]},e.next=19,n.getStuffAsync(i);case 19:return c=e.sent,console.log(c),n.setState({store_result:c},(function(){console.log(this.state.store_result),console.log(this.state.store_result.length)})),e.next=24,n.calculateDetails();case 24:e.sent,console.log(n.state.details),n.setState({state:n.state});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.calculateDetails=Object(j.a)(_.a.mark((function e(){var t,a,l,o,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("details"),t=n.state.store_result,a=n.state.details,l=n.state.pics,Object(x.a)(a),Object(x.a)(l),o=new K.maps.Map(document.createElement("div")),n.googlePlaces=new K.maps.places.PlacesService(o),s=0;case 9:if(!(s<20)){e.next=19;break}return n.setState({loading:!0}),r={placeId:t[s],fields:["name","rating","formatted_phone_number","geometry","website","opening_hours","review","price_level","photos"]},e.next=14,n.getStuffDetails(r);case 14:e.sent,console.log(a);case 16:s++,e.next=9;break;case 19:n.setState({loading:!1});case 20:case"end":return e.stop()}}),e)}))),n.state={address:"",coordsPair:[],formatted_address:[],store_result:[],pics:[],details:[],loading:!1},n.handleSelect=n.handleSelect.bind(Object(C.a)(n)),n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.calculateDetails=n.calculateDetails.bind(Object(C.a)(n)),n.baseState=n.state,n}return Object(i.a)(a,[{key:"getStuffAsync",value:function(e){var t=this;return new Promise((function(a,n){t.googlePlaces.nearbySearch(e,(function(e,n){if(n==K.maps.places.PlacesServiceStatus.OK){t.state.store_result;console.log(e.length);for(var l=new Array(20),o=0;o<e.length;o++)l[o]=e[o].place_id,console.log(l[o])}a(l)}))}))}},{key:"getStuffDetails",value:function(e){var t=this,a=new K.maps.Map(document.createElement("div"));return this.googlePlaces=new K.maps.places.PlacesService(a),new Promise((function(a,n){t.googlePlaces.getDetails(e,(function(e,n){n==K.maps.places.PlacesServiceStatus.OK&&e.photos?(a(e),t.state.details.push(e)):a(void 0)}))}))}},{key:"handleSubmit",value:function(e){this.setState(this.baseState)}},{key:"render",value:function(){var e=this.state.details,t=this.props.classes;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},l.a.createElement("div",{className:"input",style:{color:"white",fontWeight:"bold",fontSize:20}},l.a.createElement(q.a,{steps:["Hello welcome to itigen",1e3,"You can start your travel search by entering any place you want below",500],loop:1/0,wrapper:"p",colour:"white"}),l.a.createElement(I.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},(function(e){var a=e.getInputProps,n=e.suggestions,o=e.getSuggestionItemProps,s=e.loading;return l.a.createElement("div",null,l.a.createElement(B.a,{component:"form",className:t.root2},l.a.createElement(A.a,Object.assign({className:t.input},a({placeholder:"Search Google Maps"}),{inputProps:{"aria-label":"search google maps"}})),l.a.createElement(F.a,{type:"submit",className:t.iconButton,"aria-label":"search"},l.a.createElement(U.a,null))),l.a.createElement("div",{className:"autocomplete-dropdown-container"},s&&l.a.createElement("div",null,"Loading..."),n.map((function(e){var a=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return l.a.createElement(B.a,Object.assign({},o(e,{className:a,style:n}),{elevation:1,component:"form",className:t.root2,square:"true"}),l.a.createElement("span",{style:{fontWeight:e.highlight?700:400}},l.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",l.a.createElement("small",null,e.formattedSuggestion.secondaryText)))}))))})))),this.state.loading?l.a.createElement(H.WaveTopBottomLoading,null):null,l.a.createElement("div",{className:"col-md-12 mt-5 mx-auto"},l.a.createElement("div",{className:t.root},l.a.createElement(T.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},e.map((function(a){return l.a.createElement(T.a,{item:!0,xs:12,sm:6,md:3,key:e.indexOf(a)},l.a.createElement(N.a,null,l.a.createElement(G.a,null,l.a.createElement(W.a,{className:t.media,image:a.photos[0].getUrl({maxWidth:500,maxHeight:500}),title:"Contemplative Reptile"}),l.a.createElement(D.a,null,l.a.createElement(f.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name),l.a.createElement(f.a,{variant:"h5",component:"h2"},l.a.createElement(z.a,{name:"half-rating-read",defaultValue:a.rating,precision:.1,size:"small",readOnly:!0})),l.a.createElement(f.a,{variant:"h5",component:"h2"}),l.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p"},"Phone: ",a.formatted_phone_number))),l.a.createElement(M.a,null,l.a.createElement(L.a,{size:"small",color:"primary",target:"_blank",href:a.website},"Learn More"))))})))))),l.a.createElement(V.a,{type:"circle",bg:!0}))}}]),a}(n.Component),J=Object(v.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},media:{height:140},bg:{height:"100vh"},root2:{padding:"2px 4px",display:"flex",alignItems:"center",width:500},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}))(Z),Y=a(40),$=a(23),Q=a(60),X=a.n(Q),ee=(a(110),a(265)),te=a(266),ae=a(268),ne=a(264),le=a(269),oe=a(267),se=a(80),re=a.n(se),ie=a(270),ce=a(64),de=a.n(ce),me=a(271),ue=a(263),pe=(a(212),new X.a),ge=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],he=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({address:e})},n.Calculate=function(){var e=n.state.coordsPair,t=n.state.formatted_address,a=0,l=e.length;console.log("Loop begins");for(var o=0;o<l;o++){var s=e[a],r=t[a];e.splice(a,1),t.splice(a,1);var i=Object(Y.findNearest)(s,e);n.state.final.push(s),n.state.final_address.push(r);a=e.indexOf(i)}console.log("Loop Ends");var c=JSON.stringify(n.state.final);console.log(c),console.log(n.state.final),console.log(n.state.final_address)},n.handleSelect=function(){var e=Object(j.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.formatted_address,Object(P.geocodeByAddress)(t).then((function(e){return a.push(e[0].formatted_address)}),n.setState({formatted_address:a})),Object(P.geocodeByAddress)(t).then((function(e){return Object(P.getLatLng)(e[0])})).then((function(e){return n.state.coordsPair.push(e)})),Object(P.geocodeByAddress)(t).then((function(e){return console.log(e)})),console.log(a),console.log(n.state.coordsPair);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleIn=function(e,t){n.setState(Object(p.a)({},e,t.target.value))},n.handleOut=function(e,t){n.setState(Object(p.a)({},e,t.target.value))},n.getError=function(){return l.a.createElement("div",{className:"col-md-10 mt-3 mx-auto"},l.a.createElement(f.a,{variant:"h5",gutterBottom:!0},l.a.createElement(me.a,{severity:"error"},l.a.createElement(ue.a,null,"Error"),l.a.createElement("strong",null,"Overlapping Time!"))))},n.state={address:"",value:"",coordsPair:[],final:[],addTime:[],outTime:[],add:"",out:"",formatted_address:[],final_address:[],flag:!1,sumbit:!1},n.handleSubmit=n.handleSubmit.bind(Object(C.a)(n)),n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.handleIn=n.handleIn.bind(Object(C.a)(n)),n.handleFinal=n.handleFinal.bind(Object(C.a)(n)),n.handleOut=n.handleOut.bind(Object(C.a)(n)),n.handleClick=n.handleClick.bind(Object(C.a)(n)),n.handleRemove=n.handleRemove.bind(Object(C.a)(n)),n.Calculate=n.Calculate.bind(Object(C.a)(n)),n.loadPDF=n.loadPDF.bind(Object(C.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){this.setState({submit:!0}),e.preventDefault(),this.Calculate()}},{key:"handleFinal",value:function(e){this.state.addTime.push(this.state.add),console.log(this.state.addTime),this.state.outTime.push(this.state.out),console.log(this.state.outTime),e.preventDefault(),this.setState({add:""}),this.setState({out:""})}},{key:"handleClick",value:function(){var e=this;$.a.load("client:auth2",(function(){console.log("loaded client"),$.a.client.init({apiKey:"AIzaSyCUHroizUeI5ynDKqAM0gASmL3bum3tuSE",clientId:"579604041414-l2b4jgn74hcol0ir8dbi4aq5entjdlev.apps.googleusercontent.com",discoveryDOcs:ge,scope:"https://www.googleapis.com/auth/calendar.events"}),$.a.client.load("calendar","v3",(function(){return console.log("yay!")})),$.a.auth2.getAuthInstance().signIn().then((function(){var t=e.state.final_address,a=e.state.final.length,n=new Array(a);console.log("Loop begins");for(var l=0;l<a;l++){console.log("In");var o=new Date(e.state.addTime[l]);o=o.toISOString();var s=new Date(e.state.outTime[l]);s=s.toISOString(),console.log(t[l]),console.log(o),console.log(s);var r={summary:e.state.final_address[l],location:e.state.final[l],description:"",start:{dateTime:o,timeZone:"Singapore"},end:{dateTime:s,timeZone:"Singapore"},reminders:{useDefault:!1,overrides:[{method:"email",minutes:1440},{method:"popup",minutes:10}]}};n[l]=r}console.log("checking timings");for(l=0;l<n.length;l++){var i=Date.parse(n[l].start.dateTime),c=Date.parse(n[l].end.dateTime),d="";0!=l&&(d=Date.parse(n[l-1].end.dateTime)),console.log(i),console.log(c),console.log(i-c),i-c>0?(console.log("error"),e.setState({flag:!0})):0!=l?d-i>0&&(console.log("error"),e.setState({flag:!0})):function(){console.log(n),console.log("Loop ends");var e=$.a.client.newBatch();n.map((function(t,a){e.add($.a.client.calendar.events.insert({calendarId:"primary",resource:n[a]})),e.then((function(){console.log("all jobs now dynamically done!!!")}));n[0];e.execute()}))}()}}))}))}},{key:"loadPDF",value:function(){var e=this.state.final_address.length;console.log(e);for(var t=[],a=0;a<e;a++)t.push([this.state.final_address[a],this.state.addTime[a],this.state.outTime[a]]),console.log(t[a]);for(a=0;a<t.length;a++){var n=Date.parse(t[a][1]),l=Date.parse(t[a][2]),o="";0!=a&&(o=Date.parse(t[a-1][2])),console.log(n),console.log(l),console.log(n-l),n-l>0?(console.log("error"),this.setState({flag:!0})):0!=a?o-n>0&&(console.log("error"),this.setState({flag:!0})):(console.log(t),pe.autoTable({head:[["Places (Optimal Order)","In Time\t","Out Time"]],body:t}),pe.save("table.pdf"))}}},{key:"handleRemove",value:function(e){this.setState((function(t){return{coordsPair:t.coordsPair.filter((function(t,a){return a!==e}))}})),this.setState((function(t){return{formatted_address:t.formatted_address.filter((function(t,a){return a!==e}))}}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.final_address,n=this.state.formatted_address;return console.log(n),l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10 mt-5 ml-5 mx-auto"},l.a.createElement("div",{className:"float-right mt-3"},l.a.createElement(L.a,{variant:"contained",color:"primary",style:{backgroundColor:"#370484"},onClick:function(t){return e.handleSubmit(t)}},"Submit")),l.a.createElement("div",{className:"col-md-6 mx-auto p-3"},l.a.createElement(I.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},(function(e){var a=e.getInputProps,n=e.suggestions,o=e.getSuggestionItemProps,s=e.loading;return l.a.createElement("div",null,l.a.createElement(B.a,{component:"form",className:t.root2},l.a.createElement(A.a,Object.assign({className:t.input},a({placeholder:"Search Google Maps"}),{inputProps:{"aria-label":"search google maps"}})),l.a.createElement(F.a,{type:"submit",disabled:!0,className:t.iconButton,"aria-label":"search"},l.a.createElement(U.a,null))),l.a.createElement("div",{className:"autocomplete-dropdown-container"},s&&l.a.createElement("div",null,"Loading..."),n.map((function(e){var a=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return l.a.createElement(B.a,Object.assign({},o(e,{className:a,style:n}),{component:"form",className:t.root2,square:"true"}),l.a.createElement("span",{style:{fontWeight:e.highlight?700:400}},l.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",l.a.createElement("small",null,e.formattedSuggestion.secondaryText)))}))))})))),l.a.createElement("div",{class:"col-md-10 mt-5 ml-5 mx-auto"},l.a.createElement(ne.a,{component:B.a},l.a.createElement(ee.a,{style:{borderTop:"4px solid #370484"},stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(te.a,null,n.map((function(t,a,n){return l.a.createElement(oe.a,{key:t.id},l.a.createElement(ae.a,{component:"th",scope:"row"}," ",t,"  "),l.a.createElement("div",{className:"float-right"},l.a.createElement(ae.a,null,l.a.createElement(re.a,{onClick:function(){return e.handleRemove(a)}}))))})))))),l.a.createElement("div",{className:"col-md-10 mt-5 mx-auto"},this.state.submit?l.a.createElement("div",null,l.a.createElement(ne.a,{component:B.a,style:{borderTop:"3px solid black",borderBottom:"3px solid black",borderRight:"3px solid black",borderLeft:"3px solid black"}},l.a.createElement(ee.a,{className:t.table,"aria-label":"caption table"},l.a.createElement(le.a,null,l.a.createElement(oe.a,null,l.a.createElement(ae.a,null,"Places (Optimal Order)"),l.a.createElement(ae.a,{align:"left"},"In Time"),l.a.createElement(ae.a,{align:"left"},"Out Time"),l.a.createElement(ae.a,{align:"left"},"Confirm"))),l.a.createElement(te.a,null,a.map((function(n){return l.a.createElement(oe.a,{key:a.indexOf(n)},l.a.createElement(ae.a,{component:"th",scope:"row"},n),l.a.createElement(ae.a,{align:"right"},l.a.createElement("form",{className:t.container,noValidate:!0},l.a.createElement(ie.a,{id:"datetime-local",label:"Next appointment",type:"datetime-local",value:e.state.add,defaultValue:"",onChange:function(t){return e.handleIn("add",t)},className:t.textField,InputLabelProps:{shrink:!0}}))),l.a.createElement(ae.a,{align:"right"},l.a.createElement("form",{className:t.container,noValidate:!0},l.a.createElement(ie.a,{id:"datetime-local",label:"Next appointment",type:"datetime-local",value:e.state.out,defaultValue:"",onChange:function(t){return e.handleOut("out",t)},className:t.textField,InputLabelProps:{shrink:!0}}))),l.a.createElement(ae.a,{align:"right"},l.a.createElement("form",{className:t.container,noValidate:!0},l.a.createElement(F.a,{onClick:e.handleFinal},l.a.createElement(de.a,null)))))}))))),this.state.flag?this.getError():null,l.a.createElement(L.a,{variant:"contained",color:"primary",onClick:this.loadPDF},"Download PDF"),l.a.createElement(L.a,{variant:"contained",color:"primary",onClick:this.handleClick},"Add to Calender")):null))))}}]),a}(n.Component),fe=Object(v.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},media:{height:140},root2:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},title:{flex:"1 1 100%"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(p.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}))(he),be=new X.a,ve=window.google=window.google?window.google:{},Ee=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],ye=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({address:e}),Object(P.geocodeByAddress)(e).then((function(e){return console.log(e[0])}))},n.Calculate=function(){var e=n.state.coordsPair,t=n.state.formatted_address,a=n.state.place_ids1,l=0,o=e.length;console.log("Loop begins"),console.log(a);for(var s=0;s<o;s++){var r=e[l],i=t[l],c=a[l];e.splice(l,1),t.splice(l,1),a.splice(l,1);var d=Object(Y.findNearest)(r,e);n.state.final.push(r),n.state.final_address.push(i),n.state.place_ids2.push(c);l=e.indexOf(d)}console.log("Loop Ends"),console.log(n.state.final),console.log(n.state.final_address),console.log(n.state.place_ids2),n.setState({flag:!0}),n.setState({state:n.state})},n.handleSelect=function(e){Object(P.geocodeByAddress)(e).then((function(e){return n.state.formatted_address.push(e[0].formatted_address)})),Object(P.geocodeByAddress)(e).then((function(e){return Object(P.getLatLng)(e[0])})).then((function(e){return n.state.coordsPair.push(e)})),console.log(n.state.formatted_address),console.log(n.state.coordsPair),Object(P.geocodeByAddress)(e).then((function(e){return n.state.place_ids.push(e[0].place_id)})),console.log(n.state.place_ids),Object(P.geocodeByAddress)(e).then((function(e){return n.state.place_ids1.push(e[0].place_id)})),console.log(n.state.place_ids1)},n.handleIn=function(e,t){n.setState(Object(p.a)({},e,t.target.value))},n.handleChangeIn=function(e,t){n.setState(Object(p.a)({},e,t.target.value)),console.log(n.state.startTrip)},n.calculateDetails=Object(j.a)(_.a.mark((function e(){var t,a,l,o,s,r,i,c,d,m,u,p,g,h,f,b;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.place_ids,a=n.state.place_details,Object(x.a)(a),l=0;case 4:if(!(l<t.length)){e.next=14;break}return o={placeId:t[l],fields:["name","opening_hours","utc_offset_minutes"]},e.next=8,n.getDetailsAsync(o);case 8:s=e.sent,a.push(s),console.log(s);case 11:l++,e.next=4;break;case 14:for(0,console.log(a),0,r="0000",i=0,c=0;c<t.length;c++)a[c]&&(console.log(a[c].opening_hours),r=a[c].opening_hours.periods[0].open.time,i=a[c].opening_hours.periods[0].open.day,"0000"===r&&0===i?n.state.closeTimes.push(2400):n.state.closeTimes.push(parseInt(a[c].opening_hours.periods[0].close.time)));for(console.log(n.state.closeTimes),d=n.state.closeTimes,m=n.state.place_details,u=n.state.place_ids,p=1;p<t.length;p++){for(g=d[p],h=m[p],f=u[p],b=p-1;b>-1&&g<d[b];)d[b+1]=d[b],m[b+1]=m[b],u[b+1]=u[b],b--;d[b+1]=g,m[b+1]=h,u[b+1]=f,console.log(m)}console.log(d),console.log(m),n.setState({closeTimes:d,place_details:m,place_ids:u}),console.log(n.state.place_details),console.log(n.state.closeTimes),console.log(n.state.place_ids),n.sortRanks();case 31:case"end":return e.stop()}}),e)}))),n.state={address:"",value:"",coordsPair:[],final:[],formatted_address:[],final_address:[],flag:!1,startTrip:"",timeSpent:[],place_ids:[],place_ids1:[],place_ids2:[],place_details:[],addTime:[],outTime:[],closeTimes:[],ranks:[],sdate:"",add:"",submit:!1},n.handleSubmit=n.handleSubmit.bind(Object(C.a)(n)),n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.handleIn=n.handleIn.bind(Object(C.a)(n)),n.handleFinalIn=n.handleFinalIn.bind(Object(C.a)(n)),n.handleChangeIn=n.handleChangeIn.bind(Object(C.a)(n)),n.handleFinalChangeIn=n.handleFinalChangeIn.bind(Object(C.a)(n)),n.handleClick=n.handleClick.bind(Object(C.a)(n)),n.handleRemove=n.handleRemove.bind(Object(C.a)(n)),n.Calculate=n.Calculate.bind(Object(C.a)(n)),n.loadPDF=n.loadPDF.bind(Object(C.a)(n)),n.calculateDetails=n.calculateDetails.bind(Object(C.a)(n)),n.sortRanks=n.sortRanks.bind(Object(C.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){this.setState({submit:!0}),e.preventDefault(),this.Calculate(),this.calculateDetails()}},{key:"handleFinalIn",value:function(e){this.state.timeSpent.push(parseInt(this.state.add));console.log(this.state.timeSpent),e.preventDefault()}},{key:"handleClick",value:function(){var e=this;$.a.load("client:auth2",(function(){console.log("loaded client"),$.a.client.init({apiKey:"AIzaSyCUHroizUeI5ynDKqAM0gASmL3bum3tuSE",clientId:"579604041414-l2b4jgn74hcol0ir8dbi4aq5entjdlev.apps.googleusercontent.com",discoveryDOcs:Ee,scope:"https://www.googleapis.com/auth/calendar.events"}),$.a.client.load("calendar","v3",(function(){return console.log("yay!")})),$.a.auth2.getAuthInstance().signIn().then((function(){var t=e.state.place_details,a=t.length,n=new Array(a),l=Date.parse(e.state.startTrip);console.log(e.state.startTrip),console.log("Loop begins");for(var o=0;o<a;o++){console.log("In");var s=new Date(l);console.log(s),s=s.toISOString();var r=60*e.state.timeSpent[o]*60*1e3+l,i=new Date(r);console.log(i),i=i.toISOString(),console.log(t[o]),console.log("Timestore"),l=r,console.log(e.state.timeSpent[o]),console.log(l);var c={summary:e.state.place_details[o].name,location:e.state.place_details[o].name,description:"Generated by Itigen",start:{dateTime:s,timeZone:"Singapore"},end:{dateTime:i,timeZone:"Singapore"},reminders:{useDefault:!1,overrides:[{method:"email",minutes:1440},{method:"popup",minutes:10}]}};n[o]=c}console.log(n),console.log("Loop ends");var d=$.a.client.newBatch();n.map((function(e,t){d.add($.a.client.calendar.events.insert({calendarId:"primary",resource:n[t]}))})),d.then((function(){console.log("all jobs now dynamically done!!!")}));n[0];d.execute()}))}))}},{key:"loadPDF",value:function(){var e=this.state.place_details.length,t=Date.parse(this.state.startTrip);console.log("Loop begins");for(var a=0;a<e;a++){console.log("In");var n=new Date(t);console.log(n),this.state.addTime.push(n);var l=60*this.state.timeSpent[a]*60*1e3+t,o=new Date(l);console.log(o),this.state.outTime.push(o),t=l}e=this.state.place_details.length;console.log(e);var s=[];for(a=0;a<e;a++)s.push([this.state.place_details[a].name,this.state.addTime[a],this.state.outTime[a]]),console.log(s[a]);console.log(s),be.autoTable({head:[["Places (Optimal Order)","In Time\t","Out Time"]],body:s}),be.save("table.pdf")}},{key:"handleRemove",value:function(e){this.setState((function(t){return{coordsPair:t.coordsPair.filter((function(t,a){return a!==e}))}})),this.setState((function(t){return{formatted_address:t.formatted_address.filter((function(t,a){return a!==e}))}}))}},{key:"handleFinalChangeIn",value:function(e){this.setState({startTrip:this.state.startTrip}),console.log(this.state.startTrip),e.preventDefault()}},{key:"getDetailsAsync",value:function(e){var t=new ve.maps.Map(document.createElement("div")),a=new ve.maps.places.PlacesService(t);return new Promise((function(t,n){a.getDetails(e,(function(e,a){if(a!==ve.maps.places.PlacesServiceStatus.OK)return;e.opening_hours&&e.utc_offset_minutes?(console.log("".concat(e.opening_hours.weekday_text[0])),t(e)):t(0)}))}))}},{key:"sortRanks",value:function(){var e=this.state.place_ids,t=this.state.place_ids2;console.log("Sorting Ranks"),console.log(this.state.final_address),console.log(this.state.place_details),console.log(this.state.place_ids),console.log(this.state.place_ids2);for(var a=0;a<e.length;a++){e[a];var n=t.indexOf(e[a]);this.state.ranks.push(n*a),console.log(this.state.ranks)}for(var l=this.state.place_details,o=this.state.place_ids,s=this.state.ranks,r=1;r<this.state.ranks.length;r++){for(var i=l[r],c=o[r],d=s[r],m=r-1;m>-1&&d<s[m];)s[m+1]=s[m],l[m+1]=l[m],o[m+1]=o[m],m--;s[m+1]=d,l[m+1]=i,o[m+1]=c}this.setState({ranks:s,place_details:l,place_ids:o}),console.log("Sorted"),console.log(this.state.ranks),console.log(this.state.place_details)}},{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10 mt-5 mx-auto"},l.a.createElement("div",{className:"col-md-6 mx-auto p-3",style:{color:"white",fontWeight:"bold",fontSize:20}},l.a.createElement(q.a,{steps:["Customise your itinerary here!",1e3],loop:1/0,wrapper:"p",colour:"white"}),l.a.createElement("div",{className:"float-right mt-3"},l.a.createElement(I.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},(function(e){var a=e.getInputProps,n=e.suggestions,o=e.getSuggestionItemProps,s=e.loading;return l.a.createElement("div",null,l.a.createElement(B.a,{component:"form",className:t.root2},l.a.createElement(A.a,Object.assign({className:t.input},a({placeholder:"Search Google Maps"}),{inputProps:{"aria-label":"search google maps"}})),l.a.createElement(F.a,{type:"submit",disabled:!0,className:t.iconButton,"aria-label":"search"},l.a.createElement(U.a,null))),l.a.createElement("div",{className:"autocomplete-dropdown-container"},s&&l.a.createElement("div",null,"Loading..."),n.map((function(e){var a=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return l.a.createElement(B.a,Object.assign({},o(e,{className:a,style:n}),{component:"form",className:t.root2,square:"true"}),l.a.createElement("span",{style:{fontWeight:e.highlight?700:400}},l.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",l.a.createElement("small",null,e.formattedSuggestion.secondaryText)))}))))})),l.a.createElement(L.a,{variant:"contained",color:"primary",style:{backgroundColor:"purple"},onClick:function(t){return e.handleSubmit(t)}},"Submit"))),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Start Date"))),l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("form",null,l.a.createElement(ie.a,{id:"datetime-local",type:"datetime-local",value:this.state.out,defaultValue:"",onChange:function(t){return e.handleChangeIn("startTrip",t)},className:t.textField,InputLabelProps:{shrink:!0}}),l.a.createElement(F.a,{onClick:this.handleFinalChangeIn},l.a.createElement(de.a,null)))))),l.a.createElement("div",{class:"col-md-10 mt-5 ml-5 mx-auto"},l.a.createElement(ne.a,{component:B.a},l.a.createElement(ee.a,{style:{borderTop:"3px solid purple"},stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(te.a,null,this.state.formatted_address.map((function(t,a,n){return l.a.createElement(oe.a,{key:"tr-".concat(a)},l.a.createElement(ae.a,{component:"th",scope:"row"}," ",t,"  "),l.a.createElement(ae.a,null,l.a.createElement(re.a,{onClick:function(){return e.handleRemove(a)}})))})))))),l.a.createElement("div",{className:"col-md-10 mt-5 mx-auto"},this.state.submit?l.a.createElement("div",null,l.a.createElement(ne.a,{component:B.a,style:{borderTop:"3px solid black",borderBottom:"3px solid black",borderRight:"3px solid black",borderLeft:"3px solid black"}},l.a.createElement(ee.a,{className:t.table,"aria-label":"caption table"},l.a.createElement("caption",null,"Places optimised according to opening_hours and distances."),l.a.createElement(le.a,null,l.a.createElement(oe.a,null,l.a.createElement(ae.a,{align:"left"},"Places (Optimal Order)"),l.a.createElement(ae.a,{align:"right"},"Time to be Spent (hrs)"))),l.a.createElement(te.a,null,this.state.place_details.map((function(a){return l.a.createElement(oe.a,{key:e.state.place_details.indexOf(a)},l.a.createElement(ae.a,{component:"th",scope:"row"},a.name),l.a.createElement(ae.a,{align:"right"},l.a.createElement("form",null,l.a.createElement("input",{type:"number",step:"1",min:"0",value:e.state.add,onChange:function(t){return e.handleIn("add",t)}}))),l.a.createElement(ae.a,null,l.a.createElement("form",{className:t.container,noValidate:!0},l.a.createElement(F.a,{onClick:e.handleFinalIn},l.a.createElement(de.a,null)))))}))))),l.a.createElement(L.a,{variant:"contained",color:"primary",onClick:this.loadPDF},"Download PDF"),l.a.createElement(L.a,{variant:"contained",color:"primary",onClick:this.handleClick},"Add to GCalendar \ud83d\udcc5")):null)))))}}]),a}(n.Component),Oe=Object(v.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},media:{height:140},root2:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},title:{flex:"1 1 100%"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}))(ye),Se=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("div",{className:"Apps"},l.a.createElement("header",{className:"App-header"},l.a.createElement(k,null),l.a.createElement("div",{className:"container"},l.a.createElement(u.a,{exact:!0,path:"process.env.PUBLIC_URL + /generator",component:Oe}),l.a.createElement(u.a,{exact:!0,path:"process.env.PUBLIC_URL + /itinerary",component:fe}),l.a.createElement(u.a,{exact:!0,path:"process.env.PUBLIC_URL + /landing",component:J}),l.a.createElement("div",{className:"App"},l.a.createElement(V.a,{type:"circle",bg:!0}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.b7bf6142.chunk.js.map